<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>登录</title>
    <link rel="stylesheet" href="./css/mybase.css" />
    <script src="/js/myjs.js"></script>
</head>

<body>
    <!-- 渐变色 -->
    <header class="topLine"></header>
    <!-- 导航栏 -->
    <div class="top">
        <span>王康的个人博客</span>
        <nav>
            <a href="/index.html">首页</a>
            <a href="/list.html">个人博客日记</a>
            <a href="/list1.html">最新博文</a>
            <a href="/youxiu.html">优秀个人博客</a>
            <a href="/aboutme.html">关于我</a>
            <a href="/admin/shoucang">收藏列表</a>
            <a href="/store.html">商城</a>
            <a href="/shopcar/gotoshopcar">购物车</a>
        </nav>
    </div>
    <!-- 主体部分 -->
    <div id="body">
        <!-- <form method="POST" action="/admin/userLogin"> -->
            <div class="warp_userLogin">
                <h1>登录</h1>
                <input type="text" name="uname" id="uname" placeholder="输入账号"  onblur="testUname()">
                <label id="luname"></label>
                <input type="password" name="pwd" id="pwd" placeholder="输入密码" onblur="testPwd()">
                <label id="lpwd"></label>
                <button onclick="userLogin()">登录</button>
                <a href="./register.html">没有账号？立即注册</a>
            </div>
        <!-- </form> -->
    </div>

    <footer class="bodyfooter-userlogin">
        <div class="top">

        </div>
    </footer>

</body>
<script>
    
    isallow = false;
    
    function testUname(){
        if(uname.value){

            var reg=/^\w{4,10}$/
            if(reg.test(uname.value)){
                isallow =true;
                luname.innerHTML="";
            }else{
                isallow =false;
                luname.innerHTML="用户名4-10位之间,字母或者数字组成";
            }
        }else{
            isallow=false;
            luname.innerHTML="用户名为空";
        }
    }


    function testPwd(){
        if(pwd.value){

            var reg=/^\w{6,10}$/
            if(reg.test(pwd.value)){
                isallow=true;
                lpwd.innerHTML="";
            }else{
                isallow =false;
                lpwd.innerHTML="密码6-10位之间,字母或数字组成";
            }
          
        }else{
            isallow=false;
            lpwd.innerHTML="密码为空";
        }
    }

    function userLogin(){
        if(!isallow){
            return 
        }
        var body ="uname="+uname.value+"&pwd="+pwd.value;
        ajax_post("/admin/userLogin",(obj)=>{
            // console.log(obj)
            alert("登录成功")
            window.location.href="/"; 
        },body)
    }
</script>
</html>