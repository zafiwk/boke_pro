<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>商城</title>
    <link rel="stylesheet" href="./css/mybase.css">
    <style>
        #banner {
            width: 900px;
            overflow: hidden;
            position: relative;
        }

        #ul-imgs {
            list-style: none;
            width: 4500px;
            margin-left: 0px;

        }

        #ul-imgs.transition {
            transition: all .5S linear;
        }

        #ul-imgs>li {
            width: 900px;
            float: left;
        }

        #ul-imgs img {
            width: 900px;
            height: 455px;
            border-top-left-radius: 0px;
            border-bottom-left-radius: 0px;
        }

        #ul-idxs {
            width: 100px;
            margin: 0 auto;
            list-style-type: none;
            position: absolute;
            bottom: 25px;
            left: 50%;
            margin-left: -50px;
            /* background: red; */
        }

        #ul-idxs>li {
            float: left;
            width: 10px;
            height: 10px;
            background-color: #fff;
            border-radius: 5px;
            margin: 0 5px;
            cursor: pointer;
        }

        #ul-idxs>li.active {
            background: blue;
        }

        #btn-left,
        #btn-right {
            width: 60px;
            height: 100%;
            position: absolute;
            top: 0;
            background-repeat: no-repeat;
            background-position: center;
            cursor: pointer;
        }

        #btn-left {
            left: 20px;
            background-image: url(left_ar.png);
        }

        #btn-right {
            right: 20px;
            background-image: url(right_ar.png);
        }

        #btn-left:hover,
        #btn-right:hover {
            background-size: 40px 70px;
        }
    </style>
    <script src="/js/myjs.js"></script>
    <!-- <script src="./js/jquery-1.11.3.js"></script> -->
</head>

<body>
    <!-- 渐变色 -->
    <header class="topLine"></header>
    <!-- 导航栏 -->
    <div class="top">
        <span>王康的个人博客</span>
        <nav>
            <a href="/index.html">首页</a>
            <a href="/list.html">个人博客日记</a>
            <a href="/list1.html">最新博文</a>
            <a href="/youxiu.html">优秀个人博客</a>
            <a href="/aboutme.html">关于我</a>
            <a href="/admin/shoucang">收藏列表</a>
            <a href="/store.html">商城</a>
            <a href="/shopcar/gotoshopcar">购物车</a>
        </nav>
        <div class="top_right">
            <span>xx欢迎回来 </span>
            <a href="/userlogin.html" class="loginIn">还没有登录请登录</a>
            <a href="/admin/loginOut" class="loginOut">退出登录</a>
        </div>
    </div>
    <!-- 主体部分 -->
    <div id="body">
        <div class="catalog">
            <ul class="">
                <li><a href="#" class="initial_white">教育</a></li>
                <li><a href="#" class="initial_white">小说</a></li>
                <li><a href="#" class="initial_white">文艺</a></li>
                <li><a href="#" class="initial_white">青春文学/动漫·幽默</a></li>
                <li><a href="#" class="initial_white">人文社科</a></li>
                <li><a href="#" class="initial_white">经管</a></li>
                <li><a href="#" class="initial_white">科技</a></li>
            </ul>
            <!-- 教育 -->
            <div class="top_content_item1">
                <ul>
                    <li><a href="javascript:;">教育</a></li>
                    <li><a href="javascript:;">经济学原理(第七版)</a></li>
                    <li><a href="javascript:;">公司理财(原书低11版本)</a></li>
                    <li><a href="javascript:;">高等数学(第七版)上册</a></li>
                    <li><a href="javascript:;">经济学原理(第七版)</a></li>
                    <li><a href="javascript:;">公司理财(原书低11版本)</a></li>
                    <li><a href="javascript:;">高等数学(第七版)上册</a></li>
                    <li><a href="javascript:;">经济学原理(第七版)</a></li>
                    <li><a href="javascript:;">公司理财(原书低11版本)</a></li>
                    <li><a href="javascript:;">高等数学(第七版)上册</a></li>
                </ul>
            </div>
            <!-- 小说 -->
            <div class="top_content_item2">
                <ul>
                    <li><a href="javascript:;">小说</a></li>
                    <li><a href="javascript:;">中国当代小说</a></li>
                    <li><a href="javascript:;">中国近现代小说</a></li>
                    <li><a href="javascript:;">中国古典小说</a></li>
                    <li><a href="javascript:;">港澳台小说</a></li>
                    <li><a href="javascript:;">外国小说侦探</a></li>
                    <li><a href="javascript:;">中国当代小说</a></li>
                    <li><a href="javascript:;">中国近现代小说</a></li>
                    <li><a href="javascript:;">中国古典小说</a></li>
                    <li><a href="javascript:;">港澳台小说</a></li>
                    <li><a href="javascript:;">外国小说侦探</a></li>
                    <li><a href="javascript:;">中国当代小说</a></li>
                    <li><a href="javascript:;">中国近现代小说</a></li>
                    <li><a href="javascript:;">中国古典小说</a></li>
                    <li><a href="javascript:;">港澳台小说</a></li>
                    <li><a href="javascript:;">外国小说侦探</a></li>
                </ul>
            </div>

            <!-- 文艺 -->
            <div class="top_content_item3">
                <ul>
                    <li><a href="javascript:;">文艺</a></li>
                    <li><a href="javascript:;">文集纪实文学</a></li>
                    <li><a href="javascript:;">文学理论</a></li>
                    <li><a href="javascript:;">中国古诗词</a></li>
                    <li><a href="javascript:;">中国现当代诗歌</a></li>
                    <li><a href="javascript:;">外国诗歌</a></li>
                    <li><a href="javascript:;">中国古代随笔</a></li>
                    <li><a href="javascript:;">文集纪实文学</a></li>
                    <li><a href="javascript:;">文学理论</a></li>
                    <li><a href="javascript:;">中国古诗词</a></li>
                    <li><a href="javascript:;">中国现当代诗歌</a></li>
                    <li><a href="javascript:;">外国诗歌</a></li>
                    <li><a href="javascript:;">中国古代随笔</a></li>
                    <li><a href="javascript:;">文集纪实文学</a></li>
                    <li><a href="javascript:;">文学理论</a></li>
                    <li><a href="javascript:;">中国古诗词</a></li>
                    <li><a href="javascript:;">中国现当代诗歌</a></li>
                    <li><a href="javascript:;">外国诗歌</a></li>
                    <li><a href="javascript:;">中国古代随笔</a></li>
                </ul>
            </div>
            <!-- 青春文学/动漫·幽默 -->
            <div class="top_content_item4">
                <ul>
                    <li><a href="javascript:;">青春文学/动漫·幽默</a></li>
                    <li><a href="javascript:;">爱情/情感</a></li>
                    <li><a href="javascript:;">叛逆/成长</a></li>
                    <li><a href="javascript:;">悬疑/惊悚</a></li>
                    <li><a href="javascript:;">娱乐/偶像</a></li>
                    <li><a href="javascript:;">爆笑/无厘头</a></li>
                    <li><a href="javascript:;">玄幻/新武侠/魔幻/科幻</a></li>
                    <li><a href="javascript:;">爱情/情感</a></li>
                    <li><a href="javascript:;">叛逆/成长</a></li>
                    <li><a href="javascript:;">悬疑/惊悚</a></li>
                    <li><a href="javascript:;">娱乐/偶像</a></li>
                    <li><a href="javascript:;">爆笑/无厘头</a></li>
                    <li><a href="javascript:;">玄幻/新武侠/魔幻/科幻</a></li>
                    <li><a href="javascript:;">爱情/情感</a></li>
                    <li><a href="javascript:;">叛逆/成长</a></li>
                    <li><a href="javascript:;">悬疑/惊悚</a></li>
                    <li><a href="javascript:;">娱乐/偶像</a></li>
                    <li><a href="javascript:;">爆笑/无厘头</a></li>
                    <li><a href="javascript:;">玄幻/新武侠/魔幻/科幻</a></li>
                </ul>
            </div>

            <!-- 人文社科 -->
            <div class="top_content_item5">
                <ul>
                    <li><a href="javascript:;">人文社科</a></li>
                    <li><a href="javascript:;">历史普及读物</a></li>
                    <li><a href="javascript:;">中国史</a></li>
                    <li><a href="javascript:;">史家名著</a></li>
                    <li><a href="javascript:;">文物考古</a></li>
                    <li><a href="javascript:;">史学理论</a></li>
                    <li><a href="javascript:;">历史随笔</a></li>
                    <li><a href="javascript:;">中国史</a></li>
                    <li><a href="javascript:;">史家名著</a></li>
                    <li><a href="javascript:;">文物考古</a></li>
                    <li><a href="javascript:;">史学理论</a></li>
                    <li><a href="javascript:;">历史随笔</a></li>
                    <li><a href="javascript:;">中国史</a></li>
                    <li><a href="javascript:;">史家名著</a></li>
                    <li><a href="javascript:;">文物考古</a></li>
                    <li><a href="javascript:;">史学理论</a></li>
                    <li><a href="javascript:;">历史随笔</a></li>
                </ul>
            </div>

            <!-- 经管 -->
            <div class="top_content_item6">
                <ul>
                    <li><a href="javascript:;">经管</a></li>
                    <li><a href="javascript:;">一般管理学</a></li>
                    <li><a href="javascript:;">会计</a></li>
                    <li><a href="javascript:;">市场/营销</a></li>
                    <li><a href="javascript:;">战略管理</a></li>
                    <li><a href="javascript:;">生产与运作管理</a></li>
                    <li><a href="javascript:;">管理信息系统</a></li>
                    <li><a href="javascript:;">市场/营销</a></li>
                    <li><a href="javascript:;">战略管理</a></li>
                    <li><a href="javascript:;">生产与运作管理</a></li>
                    <li><a href="javascript:;">管理信息系统</a></li>
                    <li><a href="javascript:;">市场/营销</a></li>
                    <li><a href="javascript:;">战略管理</a></li>
                    <li><a href="javascript:;">生产与运作管理</a></li>
                    <li><a href="javascript:;">管理信息系统</a></li>
                </ul>
            </div>

            <!-- 经管 -->
            <div class="top_content_item7">
                <ul>
                    <li><a href="javascript:;">科技</a></li>
                    <li><a href="javascript:;">计算机理论</a></li>
                    <li><a href="javascript:;">硬件 外部设备 维修</a></li>
                    <li><a href="javascript:;">操作系统/系统开发</a></li>
                    <li><a href="javascript:;">数据库</a></li>
                    <li><a href="javascript:;">程序设计</a></li>
                    <li><a href="javascript:;">网络与数据通信</a></li>
                    <li><a href="javascript:;">硬件 外部设备 维修</a></li>
                    <li><a href="javascript:;">操作系统/系统开发</a></li>
                    <li><a href="javascript:;">数据库</a></li>
                    <li><a href="javascript:;">程序设计</a></li>
                    <li><a href="javascript:;">网络与数据通信</a></li>
                </ul>
            </div>
            <div class="top_content">
                <div id="banner">
                    <div id="btn-left"></div>
                    <ul id="ul-imgs">
                        <li><a href="javascript:;"><img src="./5.jpg"></a></li>
                        <li><a href="javascript:;"><img src="./6.png"></a></li>
                        <li><a href="javascript:;"><img src="./7.jpg"></a></li>
                        <li><a href="javascript:;"><img src="./8.png"></a></li>
                        <li><a href="javascript:;"><img src="./5.jpg"></a></li>
                    </ul>
                    <ul id="ul-idxs">
                        <li class="active"></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ul>
                    <div id="btn-right"></div>
                </div>
            </div>
        </div>

        <div class="book">
            <ul>
                <li>
                    <img src="./book/d_1.jpg">
                    <p class="title">人性的弱点</p>
                    <p class="work">(美)卡耐基 著</p>
                    <p class="price">￥28.5</p>
                </li>
            </ul>
            <!-- <div class="shop_car"><a><img src="./shop_car.png"></a></div> -->
        </div>
    </div>

    <footer class="bodyfooter-store">
        <div class="top">

        </div>

    </footer>
    <!-- <script>
        (() => {
            var lis = document.querySelectorAll(".catalog>ul>li")
            for (let i = 0; i < lis.length; i++) {
                let li = lis[i];
                li.onmouseover = function () {
                    hideContentItem()
                    let className = ".top_content_item" + (i + 1);
                    let item = document.querySelector(className);
                    item.className = item.className + " top_content_item_show";
                    this.style.backgroundColor = "#fff";
                    let a = this.children[0];
                    a.style.color = "#000";
                    a.className = " initial_black";
                    this.style.width = "271px";
                }
            }


            // $(".catalog").mouseleave(function(){
            //     // console.log("鼠标离开了");
            //     hideContentItem();
            // });

            // $("#banner").mouseenter(function(){
            //     // console.log("鼠标进入了");
            //     hideContentItem();
            // });
            let catalog = document.getElementsByClassName("catalog")[0];
            console.log(catalog);
            catalog.onmouseleave = function (e) {
                console.log("鼠标离开了");
                hideContentItem();
            }
            let banner = document.getElementById("banner");
            banner.onmouseenter = function (e) {
                console.log("鼠标进入了");
                hideContentItem();
            }

            function hideContentItem() {
                let showLi = document.querySelector(".top_content_item_show");
                if (showLi) {
                    showLi.className = showLi.className.replace("top_content_item_show", "");
                }
                for (let t = 0; t < lis.length; t++) {
                    lis[t].style.backgroundColor = "#292d32";
                    let a = lis[t].children[0];
                    a.style.color = "#fff";
                    a.className = "initial_white";
                    lis[t].style.width = "270px"
                }
            }

            ajax_get("/product/getProduct", (result) => {
                let dataArray = result["data"];
                let html = "";
                for (let i = 0; i < dataArray.length; i++) {
                    let model = dataArray[i];
                    html += `  <li>
                    <img src="${model.img}">
                    <p class="title">${model.pname}</p>
                    <p class="work">${model.author}</p>
                    <p class="price">￥${model.price} <a href="javascript:addshopCare(${model.pid})">加入购物车</a></p>
                </li>`
                }
                let ul = document.querySelector(".book>ul");
                ul.innerHTML = html;
            });
        })();
        //轮播图
        var i = 0;
        var LIWIDTH = 900;
        var DURATION = 500;
        var LICOUNT = 4;
        var ulImgs = document.getElementById("ul-imgs");
        var ulIdxs = document.getElementById("ul-idxs");
        var lis = ulIdxs.children;
        function moveTo(to) {
            if (to == undefined) {
                to = i + 1;
            }
            if (i == 0) {
                if (to > i) {
                    ulImgs.className = "transition"
                } else {
                    ulImgs.className = "";
                    ulImgs.style.marginLeft = -LIWIDTH * LICOUNT + "px";
                    setTimeout(() => {
                        moveTo(LICOUNT - 1);
                    }, 100);
                    return;
                }
            }
            i = to;
            ulImgs.style.marginLeft = -i * LIWIDTH + "px";
            for (var li of lis) {
                li.className = "";
            }
            // console.log(i);
            if (i == LICOUNT) {
                i = 0;
                setTimeout(() => {
                    ulImgs.className = "";
                    ulImgs.style.marginLeft = 0;
                }, DURATION);
            }
            lis[i].className = "active";
        }

        var btnLeft = document.getElementById("btn-left");
        var btnRight = document.getElementById("btn-right");
        var canClick = true;
        btnRight.onclick = function () {
            move(1);
        }
        function move(n) {
            if (canClick) {
                // console.log(i + n);
                moveTo(i + n);
                canClick = false;
                setTimeout(() => {
                    canClick = true;
                }, DURATION);
            }
        }
        btnLeft.onclick = function () {
            move(-1);
        }

        var interval = 3000;
        var timer = setInterval(() => {
            moveTo();
        }, 3000);
        var banner = document.getElementById("banner");
        banner.onmouseover = function () {
            clearInterval(timer);
        }
        banner.onmouseout = function () {
            timer = setInterval(() => {
                moveTo()
            }, 3000);
        }
        var ulIdxs = document.getElementById("ul-idxs");
        canClick = true;
        ulIdxs.onclick = function (e) {
            if (canClick) {
                var li = e.target;
                if (li.nodeName = "LI") {
                    if (li.className !== "active") {
                        for (var i = 0; i < lis.length; i++) {
                            if (lis[i] == li) {
                                break;
                            }
                        }
                        moveTo(i);
                        setTimeout(() => {
                            canClick = true;
                        }, DURATION);
                    }
                }
            }
        }

        function addshopCare(pid) {
            // console.log(pid);
            ajax_post("/shopcar/addProdu", (result) => {

                if (result.code == 201) {
                    alert("请登录");
                    location.href = "/userlogin.html"
                } else {
                    alert("添加成功");
                }
            }, "produId=" + pid)
        }
        topRightInit();
    </script> -->
    <script src="./js/store.js"></script>
</body>

</html>